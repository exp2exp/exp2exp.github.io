<html><html><head><meta charset="UTF-8" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><link href="https://exp2exp.github.io/static/css/firn_base.css" rel="stylesheet" /></head></html><body><main><article class="content"><h1>Experience Report:\newline Steps to "Emacs Hyper Notebooks"</h1><div><div><section></section><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="scenario"><span class="firn-headline-text"><span>Scenario</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#one">one</a></span></span></h1><section><p><span>Ray and Cameron have been collaborating for years on theoretical
biology research.  For instance, in a typical project, they might use
Maxima to make symbolic calculations and Julia for simulations.</span></p><p><span>This work combines biology, physics, and computer science.</span></p><ul><li><p><span>E.g., Latest work in progress is on branching processes for cancer
  modelling.</span></p></li></ul></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="the-problem"><span class="firn-headline-text"><span>The problem</span></span></h1><section><ul><li><p><span>Moving code and data between different programs by hand.</span></p></li><li><p><span>Two workflows for writing notes and preparing publications.</span></p></li><li><p><span>This is time consuming and error prone!</span></p></li></ul></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="possible-solutions"><span class="firn-headline-text"><span>Possible solutions</span></span></h1><section><p><span>Cameron is experienced with Jupyter, but it doesn't solve all of the
problems above.</span></p><ul><li><p><span>Script of Scripts (https://vatlab.github.io/sos-docs/) partially
  solves </span><em><span>some</span></em><span> of the problems.</span></p></li></ul><p><span>Joe and Ray were happy explore Emacs-based solutions.
(And Cameron got enthusiastic about Doom Emacs!)</span></p></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="emacs+org-mode"><span class="firn-headline-text"><span>Emacs+Org Mode...</span></span></h1><section><table><tr><td><span>TOOLS</span></td><td><span>EMACS/ORG</span></td><td><span>———————————————————————————————————————</span></td></tr><tr><td><span>Maxima</span></td><td><span>maxima-mode</span></td><td><span>Solving DE symbolically</span></td></tr><tr><td><span>Julia</span></td><td><span>julia-mode</span></td><td><span>Run the numerical solver</span></td></tr><tr><td><span>—</span></td><td><span>org-poly</span></td><td><span>Run multiple modes inside Org mode</span></td></tr><tr><td><span>Beamer</span></td><td><span>org-tree-slide</span></td><td><span>Make slides for a presentation</span></td></tr><tr><td><span>Wikis</span></td><td><span>Org Roam</span></td><td><span>Prepare the paper in a nonlinear wiki</span></td></tr><tr><td><span>—</span></td><td><span>Logseq</span></td><td><span>... with coauthors who don’t use Emacs</span></td></tr><tr><td><span>Pairing</span></td><td><span>lockstep.el</span></td><td><span>Collaborate in real time</span></td></tr><tr><td><span>Etherpad</span></td><td><span>crdt.el</span></td><td><span>... with multiple people typing at once</span></td></tr><tr><td><span>Zotero</span></td><td><span>ORB</span></td><td><span>Reference related work</span></td></tr><tr><td><span>TeX</span></td><td><span>latex-mode</span></td><td><span>Typeset the results</span></td></tr><tr><td><span>Jekyll</span></td><td><span>Firn</span></td><td><span>Publish work in progress on a blog</span></td></tr><tr><td><span>KaTeX</span></td><td><span>fragtog</span></td><td><span>... including LaTeX math symbols</span></td></tr><tr><td><span>LaTeXML</span></td><td><span>Org Mode!</span></td><td><span>... or possibly more advaced LaTeX</span></td></tr></table></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="naive-calculation,-using-maxima-mode"><span class="firn-headline-text"><span>Naive calculation, using Maxima mode</span></span></h1><section><p><span>Notice that this computation requires a </span><strong><span>partridge in a pear tree</span></strong><span>-like
setup. I.e., we keep recomputing at each step: </span><code><<solve-for-u>></code><span>.</span></p><pre class="language-maxima"><code class="language-maxima">tex(u0sol : part(solve ([u/(D*u + s) = %e^(-s*v) * u0/(D*u0 + s)], [u0]), 1 , 2));
</code></pre><p><span>$$-{{s\,u\,e^{s\,v}}\over{D\,u\,e^{s\,v}-D\,u-s}}$$</span></p><pre class="language-maxima"><code class="language-maxima"><<solve-for-u>>
tex(factor(diff(usol, v) + usol*(D*usol + s)));
</code></pre><p><span>$${{s\,u_{0}}\over{\left(D\,u_{0}+s\right)\,e^{s\,v}-D\,u_{0}}}$$
$$0$$</span></p></section><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="look-at-how-to-do-this-with-org-variables"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>Look at how to do this with Org variables</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#ray">ray</a></span></span></h2></div></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="better-solution-(mockup-of-persistent-maxima)"><span class="firn-headline-text"><span>Better solution (mockup of persistent maxima)</span></span></h1><section><pre class="language-exp"><code class="language-exp">display2d:false;
</code></pre><pre class="language-org"><code class="language-org">false
</code></pre><pre class="language-exp"><code class="language-exp">expand((x+1)^9)
</code></pre><pre class="language-org"><code class="language-org">$$x^9+9\,x^8+36\,x^7+84\,x^6+126\,x^5+126\,x^4+84\,x^3+36\,x^2+9\,x+1$$
</code></pre></section><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="to-pass-to-julia-we-do-need-named-variables"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>to pass to Julia we do need named variables </span><em><span>inside Org mode</span></em></span></h2></div></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="demo"><span class="firn-headline-text"><span>Demo</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#three">three</a></span></span></h1><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="nyc-demo"><span class="firn-headline-text"><span>NYC Demo</span></span></h2><div class="firn-headline-section firn-headline-section-3"><h3 class="firn-headline firn-headline-3" id="add-block-for-the-org-mode-patch"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>Add block for the Org mode patch</span></span></h3></div><div class="firn-headline-section firn-headline-section-3"><h3 class="firn-headline firn-headline-3" id="add-block-for-ob-servant-code"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>Add block for ob-servant code</span></span></h3><section><ul><li><p><span>Behind the scenes, showing how we called external routines</span></p></li><li><p><span>Introduce ob-servant, a general-purpose tool for calling processes from Org Mode</span></p></li></ul></section></div></div><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="any-additions-since-then"><span class="firn-headline-text"><span>Any additions since then</span></span></h2><div class="firn-headline-section firn-headline-section-3"><h3 class="firn-headline firn-headline-3" id="try-simplest-ways-to-get-images-to-show-up"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>Try simplest ways to get images to show up</span></span></h3></div></div></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="reflections:-pleasure-and-pain!"><span class="firn-headline-text"><span>Reflections: pleasure and pain!</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#one">one</a></span></span></h1><section><ol><li><p><span>Getting </span><strong><span>emacs-juypter</span></strong><span> working wasn’t easy and we didn't get
   everything working yet! :-(</span></p></li><li><p><span>Setting up Jupyter itself with multiple kernels is a viable
   alternative, but still not feature-complete (e.g., TeX support) :-|</span></p></li><li><p><span>Working on ob-servant was pretty fun!  :-)</span></p></li><li><p><span>We got more experience with co-editing code :-)</span></p></li><li><p><span>The stack is work in progress and not just on our part
   (e.g. crdt.el bugfixes thank to Quintan) :-)</span></p></li><li><p><span>A few small </span><strong><span>compatibility issues</span></strong><span> came up with </span><em><span>Firn</span></em><span> and </span><em><span>Logseq</span></em><span>
   (these were addressed by the maintainers quickly!) :-)</span></p></li><li><p><span>We tried getting Emacs running in the browser to make these tools
   widely accessible — but command keys didn’t pass through properly
   on the most popular browsers. :-(</span></p></li><li><p><span>We got benefit from presenting early prototypes at Emacs NYC :-)</span></p></li><li><p><span>Dialogues continue around EmacsConf 2020 w/ Fermin :-)</span></p></li></ol></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="next-steps"><span class="firn-headline-text"><span>Next steps</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#one">one</a></span></span></h1><section><ol><li><p><span>Combining </span><strong><span>Evan Patterson's</span></strong><span> string diagram stuff — to address FARM 2.0</span></p></li><li><p><span>(Can we feed in diagrams and get out code?)</span></p></li><li><p><span>Look at examples from </span><strong><span>Charlie</span></strong><span> for examples from his work as an analyst</span></p></li><li><p><span>We want to be feature-complete with BASH (or more b/c we need a "remote control")</span></p></li></ol></section><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="how-to-integrate-this-workflow-with-arxana?"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>How to integrate this workflow with Arxana?</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#joe">joe</a></span></span></h2></div><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="simplify-the-presentation-by-removing-red-todos"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>SIMPLIFY the presentation by removing red todos</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#joe">joe</a></span></span></h2></div><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="record-a-preliminary-10-minute-version-on-obs-to-practice"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>Record a preliminary 10 minute version on OBS to practice</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#joe">joe</a></span></span></h2></div></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="conclusions:-we-have-taken-steps-to-address:"><span class="firn-headline-text"><span>Conclusions: we have taken steps to address:</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#one">one</a></span></span></h1><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="reproducible-research"><span class="firn-headline-text"><span>Reproducible research</span></span></h2><section><ul><li><p><span>Our motivations relate, broadly, to reproducibility of research in science.</span></p></li><li><p><span>We think that something is "reproducible" if it is teachable to someone who hasn't been doing it all along.</span></p></li><li><p><span>We think that Org Mode (and literate programming in general) is useful for this.</span></p></li><li><p><span>A paper plus supplementary data and code often isn't enough to actually reproduce the result!</span></p></li></ul></section></div><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="interdisciplinary-collaboration"><span class="firn-headline-text"><span>Interdisciplinary collaboration</span></span></h2><section><ul><li><p><span>Collaboration across different skill sets is SUPER challenging.</span></p></li><li><p><span>Our collaboration was between a physicist and a mathematical biologist, but what about collaborations between a scenario planner, a simulation scientist, and local farmers?</span></p></li></ul></section></div></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="future-work"><span class="firn-headline-text"><span>Future work</span></span></h1><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="science-should-be:"><span class="firn-headline-text"><span>Science should be:</span></span></h2><section><ul><li><p><span>widely teachable</span></p></li><li><p><span>sharable</span></p></li><li><p><span>semi-automated</span></p></li><li><p><span>transdisciplinary</span></p></li><li><p><span>real-time, like EmacsConf!</span></p></li></ul></section></div></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="appendix-i"><span class="firn-headline-text"><span>Appendix I</span></span></h1><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="refresh-on-ob-servant-code"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>Refresh on ob-servant code</span></span></h2></div><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="gather-the-notebook"><span class="firn-headline-keyword firn-headline-keyword__DONE">DONE </span><span class="firn-headline-text"><span>Gather the notebook</span></span></h2></div><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="check-org-mode-variables-to-deal-with-the-copy-paste-issues"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>Check org-mode variables to deal with the copy-paste issues</span></span></h2></div><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="ask-charlie-for-an-example-notebook-and-maybe-a-meeting-about-that"><span class="firn-headline-keyword firn-headline-keyword__DONE">DONE </span><span class="firn-headline-text"><span>Ask Charlie for an example notebook and maybe a meeting about that</span></span></h2></div></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="appendix-ii"><span class="firn-headline-text"><span>Appendix II</span></span></h1><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="repeat-something-like-minnesota-2050-with-some-of-these-tools"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>Repeat something like Minnesota 2050 with some of these tools</span></span></h2></div><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="do-due-dilligence-on-https:remoco"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>Do due dilligence on https://remo.co/</span></span></h2></div><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="think-about-about-the-connections-with-peeragogy-&amp;-ethics"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>Think about about the connections with Peeragogy & Ethics</span></span></h2><section><p><span>Is there a pattern where, if you have different subjects, interleave
them in this way to make them branch out and learn?</span></p><p><span>E.g, scenario with Piet thinking about Big Bang, or Peeragogy people
thinking about Futures Studies</span></p><p><span>Who were doing astronomy 3000 or 5000 years ago?  Priests.</span></p><p><span>Kepler on logarithms: they’re great!  Ptolemy didn’t have them and it
made a huge difference.</span></p><p><span>Interchange between business, science, and religion.</span></p></section></div><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="would-it-have-applications,-eg,-in-startup-incubators?--(could-we-have-a-startup-incubator-&quot;on-demand&quot;?)"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>Would it have applications, e.g., in startup incubators?  (Could we have a startup incubator "on demand"?)</span></span></h2><section></section></div></div></div></div></article></main></body></html>