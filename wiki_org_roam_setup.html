<html><head><meta charset="UTF-8" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ['\\(','\\)'] ],
      processEscapes: true
    }
  });</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script async="async" src="https://hypothes.is/embed.js"></script><script async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script><link href="https://exp2exp.github.io/static/css/firn_base.css" rel="stylesheet" /><link href="https://fonts.gstatic.com" rel="preconnect" /><link href="https://fonts.googleapis.com/css2?family=Ubuntu+Condensed&amp;family=Ubuntu+Mono&amp;family=Ubuntu:wght@300;400&amp;display=swap" rel="stylesheet" /><script src="https://cdn.jsdelivr.net/npm/anchor-js/anchor.min.js"></script></head><body><main><article class="content"><h1>Wiki: Org Roam setup</h1><div><div><section></section><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="basic-setup"><span class="firn-headline-text"><span>Basic setup</span></span></h1><section><p><span>Install Org Roam if needed (</span><code>M-x package-install RET org-roam RET</code><span>).</span></p><p><span>Subsequently, add this to your Emacs configuration:</span></p><pre class="language-elisp"><code class="language-elisp">(require 'org-roam)
(setq org-roam-directory (concat "/home/"
                          (getenv "USER")
                          "/exp2exp/"))
(setq org-roam-completion-system 'helm)
(define-key org-roam-mode-map (kbd "C-c n l") #'org-roam)
(define-key org-roam-mode-map (kbd "C-c n f") #'org-roam-find-file)
(define-key org-roam-mode-map (kbd "C-c n b") #'org-roam-switch-to-buffer)
(define-key org-roam-mode-map (kbd "C-c n g") #'org-roam-graph)
(define-key org-mode-map (kbd "C-c n i") #'org-roam-insert)
(org-roam-mode +1)
</code></pre></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="interaction"><span class="firn-headline-text"><span>Interaction</span></span></h1><section><p><span>Use the </span><code>C-c n f</code><span> keyboard command to add new disconnected nodes to
the graph, or use </span><code>C-c n i</code><span> to create a page and insert a wiki-style
link, like </span><code>[[New Page]]</code><span>. Follow links with </span><code>C-c C-o</code><span>. Display the
graph structure with </span><code>C-c n g</code><span>.  It may be necessary to run </span><code>M-x
org-roam-db-build-cache</code><span> to get the graph to match reality.  Add and
commit new or modified files with git, along with </span><code>org-roam.db</code><span>, and
push them to the repo.</span></p></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="bonus:-org-roam-checkout"><span class="firn-headline-text"><span>Bonus: org-roam-checkout</span></span></h1><section><p><span>If you regularly use your own separate Org Roam setup, you can use
this simple context switcher to move between the two.  Keep track of
the various separate Org Roam installations with </span><code>org-roam-library</code><span>
and then switch between them interactively with </span><code>org-roam-checkout</code><span>.</span></p><pre class="language-elisp"><code class="language-elisp">(defvar org-roam-library `(,(concat "/home/" (getenv "USER") "/exp2exp/")
                           ,(concat "/home/" (getenv "USER") "/org-roam/")))

(defun org-roam-checkout ()
  (interactive)
  (let ((ctx org-roam-directory))
    (if (eq (length org-roam-library) 1)
        ;; Still go ahead and set the variable in this case!
        (progn (setq org-roam-directory (car org-roam-library))
               (message "You only have one choice for org-roam-directory defined."))
      (let ((lib (completing-read "Choose a volume: " org-roam-library)))
        (when lib
          (setq org-roam-directory lib))))
    ;; assuming the user changes context, let’s also prompt them
    ;; to choose a new file in that context
    (when (not (eq ctx org-roam-directory))
      (org-roam-find-file))))
</code></pre></section></div></div></div><div><hr /><div class="backlinks"><h4>Backlinks to this document:</h4><ul class="firn-backlinks"><li class="firn-backlink"><a href="https://exp2exp.github.io/20200912223428-wiki">Wiki</a></li></ul></div></div></article></main></body><script>anchors.options = {
                               visible: 'always',
                               placement: 'left',
                               icon: '§'
                               };
            anchors.add('h2');
            anchors.add('h3');
            anchors.add('h4');
            anchors.add('h5');</script></html>