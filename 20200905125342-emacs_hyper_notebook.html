<html><html><head><meta charset="UTF-8" /><meta content="width=device-width, initial-scale=1.0" name="viewport" /><link href="https://exp2exp.github.io/static/css/firn_base.css" rel="stylesheet" /></head></html><body><main><article class="content"><h1>Emacs Hyper Notebook</h1><div><div><section><p><span>We are developing a better way to do “Jupyter notebooks” using Emacs.
This recovers some of the Research Collab ideas developed by Aaron
Krowne. It should integrate features such as writing and task
management (e.g., </span><em><span>Org</span></em><span>) Program evaluation (e.g., </span><em><span>Maxima</span></em><span>),
Typesetting and presentation (e.g., slides via </span><em><span>LaTeX</span></em><span>), and
navigation (e.g., </span><em><span>Org Roam</span></em><span> for displaying topics as a graph).  We
should be clear that the various technologies used are slot-fillers
and they might be replaced with other things, or augmented (e.g.,</span><em><span>Lean</span></em><span> for formal verification of some of the above?). A useful input
to this process would be implementation of examples without
integration.  This can then be redone in a more integrated fashion.</span></p><p><span>An integration using existing technologies will have limitations, once
we have this demos then we will see some of the gaps and how more
advanced tech could be useful. (For example, Ray’s work with Gerschom
could turn out to be useful here.)</span></p></section><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="some-quick-thoughts"><span class="firn-headline-text"><span>Some quick thoughts</span></span></h2><section><ul><li><p><span>If it was sitting inside a web container, then maybe it’s a quickstart thing that comes in a user friendly form.</span></p></li><li><p><span>Maybe add menu-bar items to make it look like a web browser.</span></p></li><li><p><span>Emacs Maxima interface, we might build on it — for Monday 12th October, a quick "15 minutes" talk to catch up</span></p></li><li><p><span>... possible deliverable for later on: a NIST talk?</span></p></li></ul></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="figure-out-subtasks-to-deliver-for-emacsconf"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>Figure out subtasks to deliver for EmacsConf</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#joe">joe</a></span><span><a class="firn-org-tag" href="/tags#ray">ray</a></span><span><a class="firn-org-tag" href="/tags#cameron">cameron</a></span></span></h1></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="figure-out-how-ehn-relates-to-other-projects"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>Figure out how EHN relates to other projects</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#joe">joe</a></span><span><a class="firn-org-tag" href="/tags#ray">ray</a></span><span><a class="firn-org-tag" href="/tags#cameron">cameron</a></span></span></h1></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="keep-testing-crdtel-and-lockstepel"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>Keep testing crdt.el and lockstep.el</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#joe">joe</a></span><span><a class="firn-org-tag" href="/tags#ray">ray</a></span></span></h1></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="could-emacsconf-talk-become-a-blog-post?"><span class="firn-headline-keyword firn-headline-keyword__TODO">TODO </span><span class="firn-headline-text"><span>Could Emacsconf talk become a blog post?</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#joe">joe</a></span><span><a class="firn-org-tag" href="/tags#ray">ray</a></span><span><a class="firn-org-tag" href="/tags#cameron">cameron</a></span></span></h1><section><p><span>(Notice that with crdt, typing can go on inside folded nodes! Qiantan
is thinking about a mode to make overlays shareable, which would
change things a bit.)</span></p></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="partial-prototypes"><span class="firn-headline-text"><span>Partial prototypes</span></span></h1><section><p><span>How far can we go... Through </span><a class="firn-external" href="https://roamresearch.com/" target="_blank">Roam</a><span>? (We could at least talk to Connor
about Roam on Twitter?) Through </span><a class="firn-external" href="https://jupyter.org/" target="_blank">Jupyter</a><span>? </span><a class="firn-external" href="https://foambubble.github.io/foam/" target="_blank">Foam</a><span>? </span><a class="firn-external" href="https://gtoolkit.com/" target="_blank">Glamorous Toolkit</a><span>?  Can
we integrate what we’re building with existing tools like these?  Do
Lenses or other kinds of ACT machinery help with this at all?  Would
our system potentially play a role as a universal backend?</span></p></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="feature:-arxana-2020"><span class="firn-headline-text"><span>Feature: Arxana 2020</span></span></h1><section><p><span>Revisit </span><a class="firn-external" href="https://repo.or.cz/w/arxana.git" target="_blank">Arxana</a><span> and turn it into something that we can actually use.
This is rather closely related to the use of “knowledge graph”
formulations we’ve been discussing, since Arxana allows us to combine
writing with knowledge representations.  In our last round of work
with Arxana, we left off at the point of integrating logic programming
into the system.</span></p></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="links-to-useful-resources"><span class="firn-headline-text"><span>Links to useful resources</span></span></h1><section><p><span>Technology like this could be used to build simple demos (e.g., Emacs
in the browser, running Org Mode).  We’ve noticed some other related
tools as well, like </span><a class="firn-external" href="https://github.com/200ok-ch/organice" target="_blank">Organice</a><span> and </span><a class="firn-external" href="https://github.com/tecosaur/codiorg" target="_blank">CodiOrg</a><span> that could provide
alternative interfaces.</span></p><ul><li><p><a class="firn-external" href="https://github.com/exp2exp/notebooks" target="_blank">exp2exp/notebooks: This is a Docker configuration for running jupyter with multiple kernels on Arch Linux.</a></p></li><li><p><a class="firn-external" href="https://www.gnu.org/software/emacs/manual/html_node/emacs/emacsclient-Options.html" target="_blank">emacsclient Options - GNU Emacs Manual</a></p></li><li><p><a class="firn-external" href="https://github.com/butlerx/wetty" target="_blank">butlerx/wetty: Terminal in browser over http/https. (Ajaxterm/Anyterm alternative, but much better)</a></p></li><li><p><a class="firn-external" href="https://github.com/xtermjs/xterm.js#real-world-uses" target="_blank">xtermjs/xterm.js: A terminal for the web</a></p></li><li><p><a class="firn-external" href="https://twitter.com/cianbutlerx" target="_blank"></a></p></li><li><p><a class="firn-external" href="https://github.com/tsl0922/ttyd" target="_blank">tsl0922/ttyd: Share your terminal over the web</a></p></li><li><p><a class="firn-external" href="https://github.com/yudai/gotty" target="_blank">yudai/gotty: Share your terminal as a web application</a></p></li><li><p><a class="firn-external" href="https://hub.docker.com/r/butlerx/wetty" target="_blank">butlerx/wetty - Docker Hub</a></p></li><li><p><a class="firn-external" href="https://medium.com/@pacroy/setup-web-terminal-using-wetty-docker-image-dcb1ea75bfaf" target="_blank">Setup Web Terminal using Wetty Docker Image | by Chairat Onyaem (Par) | Medium</a></p></li><li><p><a class="firn-external" href="https://hub.docker.com/r/krishnasrinivas/wetty/" target="_blank">krishnasrinivas/wetty - Docker Hub</a></p></li></ul></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="other-related-work"><span class="firn-headline-text"><span>Other related work</span></span></h1><section><ul><li><p><span>James Fairbanks (relate this to Betancourt).</span></p></li></ul></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="testing"><span class="firn-headline-text"><span>Testing</span></span></h1><section><pre><code>(def a 2)
</code></pre><pre><code>#'user/a
</code></pre><pre><code>a
</code></pre><pre><code>2
</code></pre><pre><code>(range 10)
(def a 1)
</code></pre><pre><code>| (0 1 2 3 4 5 6 7 8 9) |
| #'user/a              |
</code></pre><pre><code>a
</code></pre><pre><code>1
</code></pre></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="what-would-we-actually-want-as-our-org-interface?"><span class="firn-headline-text"><span>What would we actually want as our org interface?</span></span></h1><section><p><span>Configuration of the </span><code>src</code><span> block might look like:</span></p><p><code>maxima :process :backend maxima :results output org</code></p><ul><li><p><code>:process</code><span> stands in for </span><code>:session</code><span> now as an alternative</span></p></li><li><p><code>org-babel-execute-src-block</code><span> this is what will be called</span></p></li><li><p><span>hang into the </span><code>lang</code><span> parameter of the above function, but override using </span><code>:process</code></p></li></ul><pre><code>100*9
</code></pre><pre><code>| value | 900 |
</code></pre><pre><code>1+1;

(error "No such language mode: nil-mode")
  signal(error ("No such language mode: nil-mode"))
  error("No such language mode: %s" nil-mode)
  org-edit-src-code()
  org-babel-do-key-sequence-in-edit-buffer("\011")
  (cond ((and (memq type (quote (plain-list item))) (= (line-beginning-position) (org-element-property :post-affiliated element))) nil) ((and (eq type (quote latex-environment)) (>= (point) (org-element-property :post-affiliated element)) (< (point) (let ((--mpom (org-element-property :end element))) (save-excursion (if (markerp --mpom) (progn ...)) (save-excursion (save-restriction ... ... ... ...)))))) nil) ((and (eq type (quote src-block)) org-src-tab-acts-natively (> (line-beginning-position) (org-element-property :post-affiliated element)) (< (line-beginning-position) (let ((--mpom (org-element-property :end element))) (save-excursion (if (markerp --mpom) (progn ...)) (save-excursion (save-restriction ... ... ... ...)))))) (org-babel-do-key-sequence-in-edit-buffer (kbd "TAB"))) (t (let ((column (org--get-expected-indentation element nil))) (if (<= (current-column) (current-indentation)) (indent-line-to column) (save-excursion (indent-line-to column)))) (if (eq type (quote node-property)) (progn (let ((column (current-column))) (org--align-node-property) (org-move-to-column column))))))
  (let* ((element (save-excursion (beginning-of-line) (org-element-at-point))) (type (org-element-type element))) (cond ((and (memq type (quote (plain-list item))) (= (line-beginning-position) (org-element-property :post-affiliated element))) nil) ((and (eq type (quote latex-environment)) (>= (point) (org-element-property :post-affiliated element)) (< (point) (let ((--mpom ...)) (save-excursion (if ... ...) (save-excursion ...))))) nil) ((and (eq type (quote src-block)) org-src-tab-acts-natively (> (line-beginning-position) (org-element-property :post-affiliated element)) (< (line-beginning-position) (let ((--mpom ...)) (save-excursion (if ... ...) (save-excursion ...))))) (org-babel-do-key-sequence-in-edit-buffer (kbd "TAB"))) (t (let ((column (org--get-expected-indentation element nil))) (if (<= (current-column) (current-indentation)) (indent-line-to column) (save-excursion (indent-line-to column)))) (if (eq type (quote node-property)) (progn (let ((column ...)) (org--align-node-property) (org-move-to-column column)))))))
  (if (org-at-heading-p) nil (let* ((element (save-excursion (beginning-of-line) (org-element-at-point))) (type (org-element-type element))) (cond ((and (memq type (quote (plain-list item))) (= (line-beginning-position) (org-element-property :post-affiliated element))) nil) ((and (eq type (quote latex-environment)) (>= (point) (org-element-property :post-affiliated element)) (< (point) (let (...) (save-excursion ... ...)))) nil) ((and (eq type (quote src-block)) org-src-tab-acts-natively (> (line-beginning-position) (org-element-property :post-affiliated element)) (< (line-beginning-position) (let (...) (save-excursion ... ...)))) (org-babel-do-key-sequence-in-edit-buffer (kbd "TAB"))) (t (let ((column (org--get-expected-indentation element nil))) (if (<= (current-column) (current-indentation)) (indent-line-to column) (save-excursion (indent-line-to column)))) (if (eq type (quote node-property)) (progn (let (...) (org--align-node-property) (org-move-to-column column))))))))
  org-indent-line()
  indent-according-to-mode()
  electric-indent-post-self-insert-function()
  self-insert-command(1)
  newline(nil 1)
  (if indent (org-newline-and-indent arg) (newline arg interactive))
  org--newline(nil nil 1)
  (let ((auto-fill-function (and (not (org-at-property-p)) auto-fill-function))) (org--newline indent arg interactive))
  (cond ((or (and (eq (quote table) (org-element-type context)) (not (eq (quote table\.el) (org-element-property :type context))) (>= (point) (org-element-property :contents-begin context)) (< (point) (org-element-property :contents-end context))) (org-element-lineage context (quote (table-row table-cell)) t)) (if (or (looking-at-p "[ \011]*$") (save-excursion (skip-chars-backward " \011") (bolp))) (insert "\n") (org-table-justify-field-maybe) (call-interactively (function org-table-next-row)))) ((and org-return-follows-link (or (and (eq (quote link) (org-element-type context)) (let ((origin ...)) (let (...) (save-excursion ... ...)))) (org-in-regexp org-ts-regexp-both nil t) (org-in-regexp org-tsr-regexp-both nil t) (org-in-regexp org-link-any-re nil t))) (call-interactively (function org-open-at-point))) ((and (not (bolp)) (let ((case-fold-search nil)) (org-match-line org-complex-heading-regexp))) (let ((tags-column (and (match-beginning 5) (save-excursion (goto-char ...) (current-column)))) (string (if (and (match-end 4) (org-point-in-group ... 4)) (progn (delete-and-extract-region ... ...))))) (cond ((not (and tags-column string))) (org-auto-align-tags (org-align-tags)) (t (org--align-tags-here tags-column))) (end-of-line) (org-show-entry) (org--newline indent arg interactive) (if string (progn (save-excursion (insert (org-trim string))))))) ((and (not (eolp)) (org-element-lineage context (quote (item)))) (let ((trailing-data (delete-and-extract-region (point) (line-end-position)))) (org--newline indent arg interactive) (save-excursion (insert trailing-data)))) (t (let ((auto-fill-function (and (not (org-at-property-p)) auto-fill-function))) (org--newline indent arg interactive))))
  (let ((context (if org-return-follows-link (org-element-context) (org-element-at-point)))) (cond ((or (and (eq (quote table) (org-element-type context)) (not (eq (quote table\.el) (org-element-property :type context))) (>= (point) (org-element-property :contents-begin context)) (< (point) (org-element-property :contents-end context))) (org-element-lineage context (quote (table-row table-cell)) t)) (if (or (looking-at-p "[ \011]*$") (save-excursion (skip-chars-backward " \011") (bolp))) (insert "\n") (org-table-justify-field-maybe) (call-interactively (function org-table-next-row)))) ((and org-return-follows-link (or (and (eq (quote link) (org-element-type context)) (let (...) (let ... ...))) (org-in-regexp org-ts-regexp-both nil t) (org-in-regexp org-tsr-regexp-both nil t) (org-in-regexp org-link-any-re nil t))) (call-interactively (function org-open-at-point))) ((and (not (bolp)) (let ((case-fold-search nil)) (org-match-line org-complex-heading-regexp))) (let ((tags-column (and (match-beginning 5) (save-excursion ... ...))) (string (if (and ... ...) (progn ...)))) (cond ((not (and tags-column string))) (org-auto-align-tags (org-align-tags)) (t (org--align-tags-here tags-column))) (end-of-line) (org-show-entry) (org--newline indent arg interactive) (if string (progn (save-excursion (insert ...)))))) ((and (not (eolp)) (org-element-lineage context (quote (item)))) (let ((trailing-data (delete-and-extract-region (point) (line-end-position)))) (org--newline indent arg interactive) (save-excursion (insert trailing-data)))) (t (let ((auto-fill-function (and (not ...) auto-fill-function))) (org--newline indent arg interactive)))))
  org-return(nil nil 1)
  funcall-interactively(org-return nil nil 1)
  call-interactively(org-return nil nil)
  command-execute(org-return)
</code></pre></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="backends"><span class="firn-headline-text"><span>Backends</span></span></h1><div class="firn-headline-section firn-headline-section-2"><h2 class="firn-headline firn-headline-2" id="jupyter"><span class="firn-headline-text"><span>jupyter</span></span></h2><section><p><span>The jupyter backend works well locally but suffers from a bug when run via tramp. Se </span><a class="firn-internal" href="https://exp2exp.github.io/emacs_jupyter_remote_debugging">emacs-jupyter remote debugging</a><span> .</span></p></section></div></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="future-work"><span class="firn-headline-text"><span>Future work</span></span></h1><section><ul><li><p><span>Extending to VS Code?  Would people who use VS code even want this kind of interaction?  Maybe VS Code is better for quick visualisations?</span></p></li></ul></section></div><div class="firn-headline-section firn-headline-section-1"><h1 class="firn-headline firn-headline-1" id="contributes-to"><span class="firn-headline-text"><span>Contributes to</span></span><span class="firn-org-tags"><span><a class="firn-org-tag" href="/tags#noexport">noexport</a></span></span></h1><section><ul><li><p><a class="firn-internal" href="https://exp2exp.github.io/20200810135457-visual_interfaces">Visual Interfaces</a></p></li><li><p><a class="firn-internal" href="https://exp2exp.github.io/20200905131918-knowledge_graph">Knowledge graph</a></p></li></ul></section></div></div></div><div><hr /><div class="backlinks"><h4>Backlinks to this document:</h4><ul class="firn-backlinks"><li class="firn-backlink"><a href="https://exp2exp.github.io/20200905124405-construct_critique_improve_models_of_the_creative_process">Construct, critique, improve models of the creative process</a></li><li class="firn-backlink"><a href="https://exp2exp.github.io/index">index</a></li></ul></div></div></article></main></body></html>